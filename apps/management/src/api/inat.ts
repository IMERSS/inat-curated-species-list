import throttledQueue from 'throttled-queue';
import { INAT_API_BASE_URL } from '../constants';
import { chunk } from '../utils';

// 219322,486803,219469,178143,453546,367953,473663,338976,362669,231732,1260224,469763,552037,625332,397536,231756,522427,231760,453502,522439,1286426,816264,1099223,1286416,814277,1147800,560490,478437,1134885,522489,514596,363614,1429969,222642,483669,222644,453552,450993,453553,464108,453422,453347,453348,453346,520003,1427183,453350,453349,423941,176089,416832,213811,472529,321324,347043,453379,317689,57722,212499,1299594,453573,477200,218117,483671,61413,875949,453361,221520,425998,1451386,470648,225540,326306,333906,338579,371064,225542,522698,453509,346776,193928,225952,199878,398312,225223,320279,225224,130108,357388,453281,1127336,232606,477776,354568,477493,477705,478412,1292865,1267013,453194,453196,478359,1292869,477545,473729,215499,215495,215510,453482,477249,227937,478885,227940,205595,1021373,477250,227945,477251,227947,495777,227951,477254,227953,227958,227959,508151,472535,477825,215950,215951,477132,472536,477133,212389,212390,180712,177160,1265588,453197,347050,826460,215883,320764,215887,215889,215893,478922,453198,215897,215898,477508,215899,215900,215901,875767,320060,215764,477702,1005365,523361,227272,1128267,225154,829623,477779,232017,362414,1430969,469385,494601,319551,324938,129091,233970,1427184,453544,348868,347085,472564,178579,347088,207523,453516,453517,233914,1229416,453519,477462,1274804,1280822,228423,126765,372156,453149,477530,220441,453549,218536,453187,453188,214136,345291,453189,214137,68762,214139,453190,214141,214142,50956,935680,214143,881389,935676,477696,453373,453435,875803,178267,469901,1288390,408756,324792,347089,214958,232604,1427186,321374,220372,220440,218176,218178,218177,324110,215474,453246,228495,129570,205758,218911,324799,347052,212742,775771,479040,325663,325656,345959,325660,345618,325661,212738,453163,212741,311245,212736,1090473,345958,212745,319714,796145,1292904,504378,1154277,805782,1292906,215194,230800,230799,230796,230798,230795,230797,453247,493492,354909,143278,1292897,1292896,1292899,225965,225966,321006,478723,321003,219588,219586,325658,205221,233646,1252858,477201,326136,416902,217644,635273,223680,324700,452993,214954,213495,452991,213496,213498,220999,934725,478744,470545,179029,204726,453594,218373,934727,218380,218379,218383,205226,326671,231089,453051,118556,1136089,973434,453052,477576,219128,355511,215213,215214,215215,215216,215490,215488,215491,215489,362823,229822,217374,453025,217375,359229,217378,1292764,477509,453026,217384,1292826,416916,423786,217385,453579,416913,232363,347069,225758,453061,453583,469222,875421,477163,453053,228777,228775,473628,370802,453034,453035,453036,477472,367835,478074,470962,367255,452996,452995,472552,477656,453016,416943,974616,479245,372321,216738,453018,216740,477193,974560,416940,477192,453008,452999,479301,477194,453003,974595,216739,974571,452997,478925,452998,453021,416932,453017,974603,899645,479494,453014,478924,477657,344226,974574,453027,453028,472554,453029,635814,1288114,453033,962685,1429972,1429973,1429975,1429976,485546,479362,1429977,1258091,453039,479089,220505,220506,875457,479601,1429978,1429979,454825,220507,453044,1429980,453046,780661,478977,1252859,453048,395129,453057,780659,453056,453058,453059,230717,453055,978463,216163,479492,875429,452994,1430979,485706,790927,478321,453459,481274,130107,453274,478930,961446,1108375,453276,1105183,453275,1108745,453527,1128285,364095,453139,217362,453225,217361,1292769,1292842,479382,127397,217330,453072,347053,217343,217327,217315,367810,217367,217365,479495,217344,453230,416894,217364,1430980,217334,217341,453236,875233,453236,217329,453222,453221,217338,453227,321675,217368,217331,541748,875241,214908,477166,230746,450996,453467,453466,332481,453105,214372,478904,221398,428548,428548,416882,347051,453148,225201,518840,1430981,322378,320167,225203,1520734,1280048,453454,453377,522792,225207,225208,1063645,522783,213109,228349,319034,453462,453478,1263151,453477,321014,453547,477275,1263153,478916,231579,453500,453558,453457,477780,453142,453141,453556,322686,453140,182582,555289,216076,226794,362534,477812,453428,478745,479008,453429,221048,1520302,221050,221051,479587,453426,477615,453401,325700,1263177,226278,226277,226279,453399,478986,453402,453384,509121,127431,453104,453161,318948,347620,215303,477801,345532,450971,453596,453381,453470,213787,228742,1430982,453200,1430983,1430984,178951,1430394,232340,203337,216803,478871,342688,174129,174131,324577,384863,212328,417041,212345,470641,212329,205210,212326,212335,212351,212336,212331,212334,212350,1260240,212347,212354,258456,422704,205193,453522,212349,453158,823767,347104,212341,212343,212348,453523,212353,212339,146644,453160,417043,478918,212344,212342,453394,347103,453159,424105,205209,453268,453270,1292950,347114,453542,453080,341437,453162,258460,326204,321468,212578,212579,68353,1019815,1127244,1019819,732891,484848,454827,346703,328088,341567,345624,345625,453145,345629,453460,453461,453147,345634,320966,453612,453641,219735,213720,453167,453395,226887,321981,143282,453413,356320,1430985,214163,1043430,214160,477638,214155,454807,417047,143728,453216,216805,208521,1430395,1292843,216809,216807,214085,453090,214077,969270,214086,324798,214078,214081,453186,214083,129576,214080,133620,232135,1430091,215212,362685,426006,217191,217190,319133,217188,453219,132789,321466,258493,324796,233771,495240,213414,81683,231267,231268,231269,200136,477271,453497,478180,209405,146797,258623,219169,416970,322119,453468,325883,173472,214759,357353,453456,214033,214034,214028,453182,214029,214030,214031,896100,453181,453179,229147,226652,226308,324364,320965,1256730,226309,361086,143659,370614,226300,226285,527519,1336299,1047422,1005787,818745,226290,226310,1127191,133770,226315,1520571,1005792,1325133,1273003,453403,1028736,226295,226289,447098,324008,987857,220997,220996,320099,213573,49881,213570,453165,213574,362397,358514,213571,213563,213559,633628,130187,447180,213569,213577,453363,453364,477772,320540,209022,424131,48468,230021,477716,50275,48464,50269,477715,214855,214856,231405,458093,458076,511682,511562,490524,511697,778798,511671,511696,511737,511741,511747,511725,1296529,497160,511694,511722,511685,511711,1296538,1296539,511702,511686,511691,511678,511726,511665,511667,511710,1296554,511688,511679,511700,511743,511560,511705,511689,511703,511695,1430479,511728,511742,1430482,511721,1430481,491504,511588,511582,789725,511607,511591,511841,511791,511834,511789,511788,511617,1099141,479339,453393,511616,511608,341388,227379,511586,501079,511793,511627,511577,511557,227378,511623,511824,511810,511796,511825,511572,511566,511570,511571,472658,485523,453288,219293,219295,320836,357589,453380,226022,226021,220756,220757,220759,220758,220755,366299,228844,417016,477593,477894,178547,233967,233966,233968,453520,1430483,229086,470552,324275,219343,453419,219346,479037,219327,361103,453308,343760,344225,345436,424128,453310,219347,219341,523602,453305,219351,219338,472566,347100,453312,453307,358821,219344,347099,453137,347098,424110,219342,219340,1292937,477670,219335,219336,219331,477837,477211,347106,334295,347105,219334,477671,477559,734281,417028,218397,454821,453267,453266,453078,226879,453093,1507289,1507300,1507295,1507309,1507322,1507325,1507318,1507320,220660,485560,527106,453241,781488,217989,453243,1292822,1292744,975673,217988,217984,217987,1292742,348548,453077,477203,217991,372473,477660,47153,477204,148907,490869,1259118,212364,84733,126293,477881,354116,212927,358321,453528,232126,232127,232116,453504,51683,232119,232125,232115,319098,359833,361851,477420,143277,232120,453505,468467,228454,232759,232592,82788,81559,58469,58479,58473,59187,117372,219496,117373,229679,83543,1038408,1268534,226071,58484,58518,117374,58468,221220,117381,119280,133631,59192,228493,58506,58513,117376,52077,59194,58514,81726,68239,956741,68279,56529,51097,68265,57463,47226,55521,68263,58531,58532,122368,217391,209721,142775,217393,217390,217395,217392,235381,198800,217396,1267519,900258,59120,219634,209719,81734,228118,82481,198821,55626,204096,59119,209718,59118,1456448,117322,1360278,1360277,1360290,1360291,1360310,1360298,1360294,1360303,230445,209725,54024,59134,198804,58541,59138,122365,117339,84239,59144,122385,58543,122371,215772,60553,81967,50931,84662,52484,117346,56776,1284126,179681,122381,122382,520398,520457,117360,130785,122384,122383,483726,367948,59165,48662,68244,215286,215289,1456428,58564,215290,215291,68273,215294,215287,215288,204862,215293,194027,1456562,1456585,1456595,1456571,1456640,1456568,1456626,1456635,60607,50880,48549,48548,50786,49133,68269,198813,49920,56832,56644,58580,117764,50391,68262,219780,59182,81731,219779,68267,53893,450495,227915,59176,58576,58577,82069,59185,58606,59186,117370,219424,129690,219421,219420,219419,197100,219416,219423,226267,226268,198811,226266,226264,117369,194022,122373,226265,226269,925697,201344,335071,477471,227085,227082,359781,227600,1292947,226091,219636,453526,453212,366772,1062109,320086,477724,232347,143098,320585,453074,453414,882376,1430649,144067,367338,417111,142779,212854,146967,947590,212853,321779,333907,464163,217674,143096,323781,203132,217687,931896,453239,1292754,143000,217680,217677,347122,220379,418190,471494,146963,219716,415338,477753,219718,219713,1199520,219717,454823,415344,417081,453138,325418,321699,201342,81685,220026,453342,1430651,453340,430559,453481,228806,453411,1430655,225149,429319,325590,143284,1246994,216811,453217,143615,335030,453515,233221,453513,1311638,1430656,1430657,454856,233222,453511,453514,118788,143475,208112,205207,322665,58750,230446,146889,226710,205196,227476,55638,453075,324639,126737,231076,1121618,224152,453367,1430658,477695,224153,126991,229528,135260,243984,126217,453487,491839,346958,326104,347120,229532,229526,229531,122940,362715,129572,524513,524514,478011,1280565,214211,321703,199870,359245,212729,212728,143608,129149,554977,496625,320867,347131,358471,321469,322391,1430640,1430641,63747,208320,417132,212371,470584,217924,1139151,225378,347145,214025,220023,417148,477348,153302,219286,219285,478245,233590,424007,417150,477430,124184,219284,324640,215616,214846,347162,219885,477561,228136,453124,424006,453125,1280782,222254,367004,453116,213317,424251,176496,176162,224919,224917,211619,453113,1430643,1430644,230621,233109,1430645,232350,477452,1252825,477518,453131,229514,453129,453133,229511,453130,229513,1430646,453132,477382,478990,1430647,453128,218479,218487,218486,454822,218485,322400,218484,1292886,218482,218481,1292887,453118,1292889,454847,347156,477800,524507,477707,347143,126738,453488,478365,465432,344951,454828,479264,477352,1430648,311618,177074,347148,343382,477445,479165,221446,347151,453220,220826,204699,219906,454824,454810,453215,453214,84428,1523321,205198,121534,201281,81663,359294,453510,179711,82144,221175,209790,47919,81654,50913,119086,224420,127169,135185,127167,231396,143450,143449,142993,119492,486567,49716,143446,143445,82379,358549,127170,127171,228810,118901,49348,55996,174566,211009,218842,218843,452676,218844,453416,218840,218839,452677,218838,452678,219749,219751,219745,219747,219752,219853,173103,173101,173100,205202,452729,228372,232547,232548,216476,222645,452680,221601,344661,363278,221605,354805,347184,221600,221607,221598,452682,452681,446975,221608,221603,221602,452683,344662,344224,221604,123636,347769,233010,1378524,447509,205039,203920,219201,219203,452684,219202,205237,224947,231256,231255,1412556,1518735,358468,347195,227479,215211,215210,452687,231465,360310,356124,452688,81692,233743,233736,233741,233742,452730,452731,452689,233737,452690,233740,233739,233738,205881,143485,452691,321692,205036,127618,219357,219358,120275,447740,124333,233976,452693,229291,143002,226643,143005,221595,452695,233423,1466818,1466819,233426,52943,173571,219359,976135,60780,121236,347201,347200,143015,205228,221496,219820,219819,219798,219811,470707,219805,452697,219823,357299,219824,219812,219825,219794,219827,219792,219837,219839,452698,219795,416472,219806,219829,219815,219800,219791,219831,219802,219814,219822,219788,348841,219808,219809,219810,219816,452700,219790,452701,418280,219817,219807,219786,143104,143104,219833,347197,143103,219789,219803,345713,219826,1517184,1517190,129223,216151,213992,212293,217054,217053,224075,224075,224075,224075,224075,222158,222166,205231,217966,217970,118490,81680,230670,230672,143107,452732,202586,230678,452675,143108,230673,452674,230677,223507,452672,362596,225560,119896,452673,218391,126204,232132,334969,322722,224953,214076,223559,215208,81656,228850,202578,219754,1382007,467853,942591,947131,791094,947166,840299,578759,947177,947130,876933,947134,840434,1382006,118486,224255,118493,224261,224262,218435,218449,218439,218452,218440,452665,218437,218451,218448,337951,452657,173866,218438,218450,218445,218443,218157,226641,221268,334610,225567,220396,231577,231578,452659,478736,212575,321606,205233,362442,63750,452660,1337034,143009,143867,176366,176367,224588,143517,224175,224174,143110,143128,347168,219382,510830,224099,230847,452666,130099,205194,215615,215613,322654,218738,218737,347170,218734,218735,358147,218736,214023,222460,214491,147308,363735,219630,219631,205199,120001,119062,208110,227514,127419,227513,227515,227669,178174,81681,154582,219175,452733,452668,446655,232458,230771,129426,205238,224976,203461,144073,144073,144073,205241,228262,143033,205213,216122,216123,452670,143610,154446,196605,334645,225810,230881,230882,119944,144107,131673,232396,232400,232399,232397,452706,332725,228741,143518,346118,1378553,1378551,1378554,120214,217223,217220,59199,122259,1103556,226023,209788,143112,143274,220433,220435,220229,220232,220233,220230,47719,82204,204014,1373714,1391456,1373719,1375904,47802,220737,146980,218148,61910,48907,209787,132415,215460,789688,743191,217666,1430966,1430961,1430962,740787,606566,606580,606575,606573,606553,606561,606558,606571,606578,606559,321458,606579,824510,1225920,790921,626880,68330,214092,233575,61240,209783,231409,60839,121612,127133,1605115,143114,227897,59675,209782,218616,51781,81968,224121,84792,67691,143043,143117,119013,119789,127457,127460,222171,119066,222179,178403,133625,129226,207991,208117,325672,215271,128242,130010,221969,201277,211006,205230,143126,221966,452608,81674,134078,418438,221972,221975,225368,415526,231254,224209,61503,216247,130017,203442,216273,479379,216278,216260,216258,216313,216296,216288,132881,347215,224856,215591,452616,218730,347308,218727,218721,218729,218725,218720,218724,215693,327609,52900,126640,146991,244749,84602,205300,233930,143019,224526,225987,225988,205155,226046,452513,226045,212190,202789,218297,219621,228579,229082,229081,219229,121823,214673,452548,214675,214679,214678,153980,362247,214674,214671,214676,214677,214672,127492,232152,232160,232157,232147,232149,232158,232146,232144,232153,232148,232139,232140,232156,232143,424121,232150,232142,232155,59300,228422,228421,452561,218208,228854,228636,228638,479349,228633,452590,178968,452599,366541,226910,176096,226911,160791,229817,1063932,212439,212424,212459,212435,212450,212430,477625,198777,212449,212455,50955,452617,212429,321238,153961,212433,212448,129428,212438,212443,624408,217900,217903,217901,217898,217902,209400,217904,217896,217895,347307,452528,217905,452529,119340,127564,213470,220088,452538,119937,172719,452539,477541,346196,321239,174469,215780,347233,228375,228373,228374,452549,232064,232092,232104,452555,232094,232103,81907,232079,232077,232081,232089,232097,232073,232067,232101,232098,452570,452571,232100,232065,232072,452572,452579,452580,232071,232069,232070,232080,232076,232066,452581,232086,232078,477413,452582,232106,232082,518299,452591,232093,366543,452592,213110,63816,173155,217491,477658,129558,142246,118492,154683,146801,221040,477567,221039,221036,454860,321247,129560,230536,230574,129559,230554,82491,230576,230530,217783,217782,231425,231426,218924,143119,52906,1525744,1525743,1525742,216096,216094,452542,216095,228897,372364,236852,479388,417512,124179,124183,213865,213853,213825,213861,213842,213841,417558,213859,213845,213860,347224,452550,213827,213858,213835,213833,213852,213826,452557,213824,213848,213856,213834,213844,213849,213838,1258184,213836,213851,222724,477623,229846,354806,219434,226341,347222,226340,226339,226336,225663,225664,176747,176737,176749,176751,452619,227870,227866,222033,222032,222034,452620,1005685,1005686,177929,213469,201234,221585,452633,221588,226926,214967,233839,233838,233840,233837,233836,223974,356261,221450,221449,221448,177320,223986,223996,223977,223997,223980,224003,223981,179726,452530,452531,452532,347788,223983,223995,219848,452540,219846,154823,224946,347206,212856,452543,176068,176070,213541,213540,233677,221365,221364,227098,452544,214381,214382,554263,452545,219311,215393,215390,215392,215391,452546,222102,222101,222103,217639,217638,126616,234019,219124,219126,219125,452552,452553,222265,452554,213603,213602,213604,220106,220108,220107,228344,228345,228346,228347,233867,218782,452558,225182,225183,203452,205868,452559,347232,347230,211932,228923,452564,212307,231797,231796,226648,226651,347248,347247,452573,226649,226650,226647,226646,218904,317547,218903,345709,417897,218899,218900,218902,347250,212509,321243,232574,153076,220835,213532,213535,213531,213529,325999,1261871,213524,213528,213525,213527,213526,174226,174227,228480,228484,228482,228481,228488,228485,228487,228486,228483,204701,224556,224557,205826,222552,222550,222553,222554,222551,231412,232919,232915,232916,232917,226949,226946,226948,226947,452583,220829,224414,224415,230885,230888,230887,230886,220834,220830,452584,220832,218140,218139,225424,1185068,121183,223547,362802,223542,205167,223544,223550,223545,222705,222701,222687,222693,452602,222692,222691,222697,452610,222694,222695,222704,222690,222706,222686,452622,452623,222698,452624,222702,222689,452625,452626,222587,203455,222582,222579,452634,222589,511367,509058,81657,222591,205234,81676,477617,222583,222581,222590,222592,359094,452642,213626,213625,452644,221479,221477,362593,221478,221480,452515,1525731,1525739,1525734,429084,226636,226637,452533,226635,196998,179339,213628,213635,212473,212472,218360,452560,217553,217554,217558,219922,219912,84663,220004,219921,452565,219966,220000,219981,219965,219943,219945,220021,219991,220018,219961,452575,219959,452576,219946,220015,452577,219916,219989,219986,220007,219983,219995,219957,220013,452586,361751,220003,452587,219925,452588,220006,452595,452596,219982,220014,219988,219914,219952,452597,219927,219935,452598,219955,219996,203459,452605,219920,452606,219979,219975,219929,219976,219960,219919,425241,219926,219953,219950,219924,220002,219917,219980,452607,219978,220016,219941,219971,219956,219958,219990,219938,219931,219913,219970,452614,219972,219932,219968,219911,219974,452627,219984,219985,220010,219947,219962,219993,220022,220084,220085,119550,147309,212879,212876,203458,212878,452635,212872,212861,126276,143121,218325,218323,218324,218328,218327,348691,216430,226968,224204,230018,216659,81687,205187,217792,231244,231243,219856,219854,219855,220615,213514,213515,213990,176355,48162,81679,233796,233797,233800,233795,233805,452516,233791,233788,233801,203342,233793,233803,233794,233790,233783,452638,452639,233798,233799,233787,233789,452647,233785,233792,217304,228771,212733,229119,452525,230859,232387,232388,452526,366775,212505,176087,176088,176085,226953,226954,228865,153450,155411,212184,212167,155412,212177,452534,452535,212179,212182,155409,212178,212172,452536,212175,212173,452537,212181,212180,418028,155413,212183,212174,212168,212170,228793,228791,228790,218480,752190,219939,213576,213568,213561

export type BaselineInatData = {
  readonly id: number;
  readonly name: number;
  readonly is_active: boolean;
};

export const getInatBaselineDataForTaxonIds = async (ids: string): Promise<BaselineInatData[]> => {
  const idArray = ids
    .trim()
    .split(',')
    .map((id) => id.trim());

  const chunks = chunk(idArray, 5);
  const throttle = throttledQueue(1, 1050);

  const data: BaselineInatData[] = [];
  for (let index = 0; index < chunks.length; index++) {
    const chunkData = await throttle(() => requestSpeciesData(chunks[index]));
    data.push(...chunkData);
  }

  return data;
};

export const requestSpeciesData = async (ids: number[]) => {
  const taxonIds = ids.join(',');
  const resp = await fetch(
    `${INAT_API_BASE_URL}/taxa?taxon_id=${taxonIds}&order=desc&rank=species&order_by=observations_count`,
  );
  const json = await resp.json();

  console.log(
    `${INAT_API_BASE_URL}/taxa?taxon_id=${taxonIds}&order=desc&rank=species&order_by=observations_count`,
    json,
  );

  return json.results.map(({ id, name, is_active }) => ({
    id,
    name,
    is_active,
  }));
};

/*
{
  "total_results": 2,
  "page": 1,
  "per_page": 30,
  "results": [
    {
      "id": 233010,
      "rank": "species",
      "rank_level": 10,
      "iconic_taxon_id": 47158,
      "ancestor_ids": [
        48460,
        1,
        47120,
        372739,
        47158,
        184884,
        47157,
        49531,
        49530,
        123032,
        1518738,
        178719,
        233010
      ],
      "is_active": true,
      "name": "Triphosa haesitata",
      "parent_id": 178719,
      "ancestry": "48460/1/47120/372739/47158/184884/47157/49531/49530/123032/1518738/178719",
      "extinct": false,
      "default_photo": {
        "id": 624764,
        "license_code": "cc-by-nc-sa",
        "attribution": "(c) Dick, some rights reserved (CC BY-NC-SA)",
        "url": "https://inaturalist-open-data.s3.amazonaws.com/photos/624764/square.jpg",
        "original_dimensions": {
          "height": 910,
          "width": 1600
        },
        "flags": [],
        "square_url": "https://inaturalist-open-data.s3.amazonaws.com/photos/624764/square.jpg",
        "medium_url": "https://inaturalist-open-data.s3.amazonaws.com/photos/624764/medium.jpg"
      },
      "taxon_changes_count": 0,
      "taxon_schemes_count": 2,
      "observations_count": 3136,
      "flag_counts": {
        "resolved": 0,
        "unresolved": 0
      },
      "current_synonymous_taxon_ids": null,
      "atlas_id": 52152,
      "complete_species_count": null,
      "wikipedia_url": "http://en.wikipedia.org/wiki/Triphosa_haesitata",
      "iconic_taxon_name": "Insecta",
      "preferred_common_name": "Tissue Moth"
    },
    {
      "id": 212342,
      "rank": "species",
      "rank_level": 10,
      "iconic_taxon_id": 47158,
      "ancestor_ids": [
        48460,
        1,
        47120,
        372739,
        47158,
        184884,
        47157,
        47156,
        47155,
        124615,
        199539,
        124620,
        212342
      ],
      "is_active": true,
      "name": "Acleris maximana",
      "parent_id": 124620,
      "ancestry": "48460/1/47120/372739/47158/184884/47157/47156/47155/124615/199539/124620",
      "extinct": false,
      "default_photo": {
        "id": 3212945,
        "license_code": "cc-by-nc",
        "attribution": "(c) Scott Gilmore, some rights reserved (CC BY-NC), uploaded by Scott Gilmore",
        "url": "https://inaturalist-open-data.s3.amazonaws.com/photos/3212945/square.jpg",
        "original_dimensions": {
          "height": 981,
          "width": 709
        },
        "flags": [],
        "square_url": "https://inaturalist-open-data.s3.amazonaws.com/photos/3212945/square.jpg",
        "medium_url": "https://inaturalist-open-data.s3.amazonaws.com/photos/3212945/medium.jpg"
      },
      "taxon_changes_count": 0,
      "taxon_schemes_count": 2,
      "observations_count": 243,
      "flag_counts": {
        "resolved": 0,
        "unresolved": 0
      },
      "current_synonymous_taxon_ids": null,
      "atlas_id": null,
      "complete_species_count": null,
      "wikipedia_url": "http://en.wikipedia.org/wiki/Acleris_maximana",
      "iconic_taxon_name": "Insecta"
    }
  ]
}*/
